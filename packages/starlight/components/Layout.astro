---
import type { Props } from '../props';

import Head from 'virtual:starlight/components/Head';
import ThemeProvider from 'virtual:starlight/components/ThemeProvider';

// Important that this is the last import so it can override built-in styles.
import 'virtual:starlight/user-css';

const dataAttributes: DOMStringMap = { 'data-theme': 'dark' };
if (Boolean(Astro.props.toc)) dataAttributes['data-has-toc'] = '';
if (Astro.props.hasSidebar) dataAttributes['data-has-sidebar'] = '';
if (Boolean(Astro.props.entry.data.hero)) dataAttributes['data-has-hero'] = '';
---

<html
	lang={Astro.props.lang}
	dir={Astro.props.dir}
	{...dataAttributes}
>
	<head>
		<Head {...Astro.props} />
		<slot name="head" />
		<ThemeProvider {...Astro.props} />
	</head>
	<body><slot /></body>
</html>
